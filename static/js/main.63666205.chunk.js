(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{24:function(e,t,a){e.exports=a(38)},34:function(e,t,a){},36:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(18),l=a.n(r),s=a(5),i=a(2),o=a(20),u=a(21),m=a(3),d=a(1),b={connectionStatus:!1,subscriptions:{}},p="Root",E={CHANGE_CONNECTION_STATUS:"".concat(p,"/CHANGE_CONNECTION_STATUS"),SUBSCRIBED:"".concat(p,"/SUBSCRIBED"),MESSAGE:"".concat(p,"/MESSAGE")};var f=a(23),S=a(4),h=a.n(S),y={channel:{},bids:{},asks:{}},v={SUBSCRIBED:"".concat("Book","/SUBSCRIBED"),SET_SNAPSHOT:"".concat("Book","/SNAPSHOT"),UPDATE:"".concat("Book","/UPDATE")},N=function(e,t){return Object(d.a)({},e,Object(m.a)({},t[0],{price:t[0],count:t[1],amount:t[2]}))};var O={subscribed:function(e){return{type:v.SUBSCRIBED,payload:e}},message:function(e){return function(t,a){if(Array.isArray(e)&&Array.isArray(e[1])){var n=2*parseInt(a().Book.channel.len);if(e[1].length===n)return t(O.setSnapshot(e[1]));t({type:v.UPDATE,payload:e[1]})}}},setSnapshot:function(e){return{type:v.SET_SNAPSHOT,payload:e}},update:function(e){return{type:v.UPDATE,payload:e}}},T={channel:{},trades:{}},g={SUBSCRIBED:"".concat("Trades","/SUBSCRIBED"),SET_SNAPSHOT:"".concat("Trades","/SNAPSHOT"),UPDATE:"".concat("Trades","/UPDATE")},j=function(e,t){return Object(d.a)({},e,Object(m.a)({},t[0],{id:t[0],mts:t[1],amount:t[2],price:t[3]}))};var A={subscribed:function(e){return{type:g.SUBSCRIBED,payload:e}},message:function(e){return function(t){if(Array.isArray(e))return Array.isArray(e[1])?t(A.setSnapshot(e[1])):Array.isArray(e[2])?t({type:g.UPDATE,payload:[e[1],e[2]]}):void 0}},setSnapshot:function(e){return{type:g.SET_SNAPSHOT,payload:e}},update:function(e){return{type:g.UPDATE,payload:e}}},w={channel:{},ticker:{}},k={SUBSCRIBED:"".concat("Ticker","/SUBSCRIBED"),SET_SNAPSHOT:"".concat("Ticker","/SNAPSHOT")},B=function(e){return{bid:e[0],bidSize:e[1],ask:e[2],askSize:e[3],dailyChange:e[4],dailyChangePerc:e[5],lastPrice:e[6],volume:e[7],high:e[8],low:e[9]}};var C,D,U={subscribed:function(e){return{type:k.SUBSCRIBED,payload:e}},message:function(e){return function(t){if(Array.isArray(e))return Array.isArray(e[1])?t(U.setSnapshot(e[1])):Array.isArray(e[2])?t({type:k.UPDATE,payload:[e[1],e[2]]}):void 0}},setSnapshot:function(e){return{type:k.SET_SNAPSHOT,payload:e}},update:function(e){return{type:k.UPDATE,payload:e}}},P={book:O,trades:A,ticker:U},I={connect:function(){return function(e,t){(C=new WebSocket("wss://api.bitfinex.com/ws/2")).onopen=function(){e(I.changeConnectionStatus(!0)),e(I.subscribeToBook()),e(I.subscribeToTrades()),e(I.subscribeToTicker())},C.onmessage=function(a){var n=JSON.parse(a.data);if("subscribed"===n.event&&(e(I.subscribed(n)),e(P[n.channel].subscribed(n))),Array.isArray(n)&&n.length>1){var c=t().Root.subscriptions,r=Object.keys(c).find(function(e){return c[e].chanId===n[0]});r&&e(P[r].message(n))}}}},changeConnectionStatus:function(e){return{type:E.CHANGE_CONNECTION_STATUS,payload:e}},subscribeToBook:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var a={channel:"book",event:"subscribe",freq:"F0",len:25,prec:e.prec||"P0",symbol:"tBTCUSD"};C.send(JSON.stringify(a))}},subscribeToTrades:function(e){return function(e){var t={channel:"trades",event:"subscribe",symbol:"tBTCUSD"};C.send(JSON.stringify(t))}},subscribeToTicker:function(e){return function(e){var t={channel:"ticker",event:"subscribe",symbol:"tBTCUSD"};C.send(JSON.stringify(t))}},unsubscribe:function(e){return function(t){var a={event:"unsubscribe",chanId:e};C.send(JSON.stringify(a))}},subscribed:function(e){return{type:E.SUBSCRIBED,payload:e}},message:function(e){return{type:E.MESSAGE,payload:e}},decreasePrecision:function(e){return function(t,a){var n=a().Root.subscriptions,c="P"+(parseInt(n[e].prec.slice(1))+1);t(I.unsubscribe(n[e].chanId)),t(I.subscribeToBook({channel:e,prec:c}))}},increasePrecision:function(e){return function(t,a){var n=a().Root.subscriptions,c="P"+(parseInt(n[e].prec.slice(1))-1);t(I.unsubscribe(n[e].chanId)),t(I.subscribeToBook({channel:e,prec:c}))}}},x=Object(i.combineReducers)((D={},Object(m.a)(D,p,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.CHANGE_CONNECTION_STATUS:return Object(d.a)({},e,{connectionStatus:t.payload});case E.SUBSCRIBED:return Object(d.a)({},e,{subscriptions:Object(d.a)({},e.subscriptions,Object(m.a)({},t.payload.channel,t.payload))});default:return Object(d.a)({},e)}}),Object(m.a)(D,"Book",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.SUBSCRIBED:return Object(d.a)({},e,{channel:t.payload});case v.SET_SNAPSHOT:return Object(d.a)({},e,{bids:t.payload.filter(function(e){return e[2]>0}).reduce(N,{}),asks:t.payload.filter(function(e){return e[2]<0}).reduce(N,{})});case v.UPDATE:var a=Object(f.a)(t.payload,3),n=a[0],c=a[1],r=a[2];if(c>0){if(r>0)return Object(d.a)({},e,{bids:Object(d.a)({},e.bids,[t.payload].reduce(N,{}))});if(r<0)return Object(d.a)({},e,{asks:Object(d.a)({},e.asks,[t.payload].reduce(N,{}))})}else if(0===c){if(1===r)return Object(d.a)({},e,{bids:h.a.omit(e.bids,n)});if(-1===r)return Object(d.a)({},e,{asks:h.a.omit(e.asks,n)})}return Object(d.a)({},e);default:return Object(d.a)({},e)}}),Object(m.a)(D,"Trades",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.SUBSCRIBED:return Object(d.a)({},e,{channel:t.payload});case g.SET_SNAPSHOT:return Object(d.a)({},e,{trades:t.payload.reduce(j,{})});case g.UPDATE:var a=t.payload[1];return Object(d.a)({},e,{trades:Object(d.a)({},e.trades,[a].reduce(j,{}))});default:return Object(d.a)({},e)}}),Object(m.a)(D,"Ticker",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k.SUBSCRIBED:return Object(d.a)({},e,{channel:t.payload});case k.SET_SNAPSHOT:return Object(d.a)({},e,{ticker:B(t.payload)});default:return Object(d.a)({},e)}}),D)),R=Object(i.applyMiddleware)(o.a),H=Object(u.composeWithDevTools)(R);var _=Object(i.createStore)(x,void 0,H),F=(a(34),a(8)),M=a(9),G=a(11),J=a(10),z=a(12),W=(a(36),a(22)),L=function(e,t,a){return[].concat(Object(W.a)(e),[Object(d.a)({},t,{total:a-1>0?e[a-1].total+Math.abs(t.amount):Math.abs(t.amount)})])},q=function(e){var t=e.bids,a=e.asks,n=e.channel,r=e.decreasePrecision,l=e.increasePrecision;if(!Object.keys(t).length)return c.a.createElement("div",null);var s=new Intl.NumberFormat("en-US",{maximumSignificantDigits:5}).format,i=new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format,o=h.a.orderBy(t,["price"],["desc"]).reduce(L,[]),u=h.a.orderBy(a,["price"],["asc"]).reduce(L,[]),m=Math.max(o[o.length-1].total,u[u.length-1].total);return c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement("button",{title:"Decrease Precision",onClick:function(){return r(n.channel)},disabled:"P4"===n.prec},"-"),c.a.createElement("button",{title:"Increase Precision",onClick:function(){return l(n.channel)},disabled:"P0"===n.prec},"+")),c.a.createElement("div",{className:"main"},c.a.createElement("div",{className:"bids"},c.a.createElement("div",{className:"header"},c.a.createElement("div",{className:"cell"},"Count"),c.a.createElement("div",{className:"cell"},"Amount"),c.a.createElement("div",{className:"cell"},"Total"),c.a.createElement("div",{className:"cell"},"Price")),c.a.createElement("div",{className:"bars"},c.a.createElement("svg",{style:{width:"100%",height:"425px",transform:"scale(-1, 1)",zIndex:0,pointerEvents:"none"}},h.a.map(o,function(e,t){var a=e.price,n=(e.count,e.amount,e.total);return c.a.createElement("rect",{key:a,x:"1",y:17*t,width:"".concat(n/m*100,"%"),height:"17",fill:"#89bc3e",fillOpacity:"0.2"})}))),h.a.map(o,function(e){var t=e.price,a=e.count,n=e.amount,r=e.total;return c.a.createElement("div",{className:"row",key:t},c.a.createElement("div",{className:"cell"},a),c.a.createElement("div",{className:"cell"},i(n)),c.a.createElement("div",{className:"cell"},i(r)),c.a.createElement("div",{className:"cell"},s(t)))})),c.a.createElement("div",{className:"asks"},c.a.createElement("div",{className:"header"},c.a.createElement("div",{className:"cell"},"Price"),c.a.createElement("div",{className:"cell"},"Total"),c.a.createElement("div",{className:"cell"},"Amount"),c.a.createElement("div",{className:"cell"},"Count")),c.a.createElement("div",{className:"bars"},c.a.createElement("svg",{style:{width:"100%",height:"425px",transform:"scale(1, 1)",zIndex:0,pointerEvents:"none"}},h.a.map(u,function(e,t){var a=e.price,n=(e.count,e.amount,e.total);return c.a.createElement("rect",{key:a,x:"1",y:17*t,width:"".concat(n/m*100,"%"),height:"17",fill:"#d8464e",fillOpacity:"0.2"})}))),h.a.map(u,function(e){var t=e.price,a=e.count,n=e.amount,r=e.total;return c.a.createElement("div",{className:"row",key:t},c.a.createElement("div",{className:"cell"},s(t)),c.a.createElement("div",{className:"cell"},i(r)),c.a.createElement("div",{className:"cell"},i(-n)),c.a.createElement("div",{className:"cell"},a))}))))},V=Object(s.b)(function(e){return Object(d.a)({},e.Root,e.Book)},function(e){return Object(i.bindActionCreators)(Object(d.a)({},I,O),e)})(function(e){return c.a.createElement(q,e)}),X=function(e){var t=e.trades;if(!Object.keys(t).length)return c.a.createElement("div",null);var a=new Intl.NumberFormat("en-US",{maximumSignificantDigits:5}).format,n=new Intl.NumberFormat("en-US",{minimumFractionDigits:4,maximumFractionDigits:4}).format,r=h.a.orderBy(t,["mts"],["desc"]).slice(0,25);return c.a.createElement("div",{className:"trades"},c.a.createElement("table",{width:"100%"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{className:"col"}),c.a.createElement("th",{className:"col"},"Time"),c.a.createElement("th",{className:"col"},"Price"),c.a.createElement("th",{className:"col"},"Amount"))),c.a.createElement("tbody",null,h.a.map(r,function(e){var t=e.id,r=e.mts,l=e.amount,s=e.price,i=Math.abs(l)/s*5e4;return c.a.createElement("tr",{key:t,style:{background:l<0?"rgba(225, 86, 86, ".concat(i,"%)"):"rgba(157, 194, 74, ".concat(i,"%)")}},c.a.createElement("td",{className:"col-info"},l>=0?"up":"down"),c.a.createElement("td",{className:"col-info"},c.a.createElement("span",null,new Date(r).toLocaleTimeString())),c.a.createElement("td",{className:"col-info"},c.a.createElement("span",{className:" "},a(s))),c.a.createElement("td",{className:"col-currency",style:{paddingRight:"10px"}},n(Math.abs(l))))}))))},$=Object(s.b)(function(e){return Object(d.a)({},e.Root,e.Trades)},function(e){return Object(i.bindActionCreators)(Object(d.a)({},I,A),e)})(function(e){return c.a.createElement(X,e)}),K=function(e){var t=e.ticker,a=t.lastPrice,n=t.high,r=t.low,l=t.dailyChange,s=t.dailyChangePerc,i=t.volume;if(!a)return c.a.createElement("div",null);var o=new Intl.NumberFormat("en-US",{maximumSignificantDigits:5}).format,u=new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format;return c.a.createElement("table",{className:"ticker-sidebar-selected ticker-sidebar-box"},c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("td",{className:"col-info",rowSpan:"3",style:{width:"44px"}},c.a.createElement("span",{className:"svg svg-background",style:{background:'url("https://www.bitfinex.com/assets/BTC-alt-1ca8728fcf2bc179dfe11f9a0126bc303bee888bff8132c5ff96a4873cf9f0fb.svg")',width:"40px",height:"40px"}})),c.a.createElement("td",{className:"col-info",rowSpan:"1",style:{width:"136px"}},c.a.createElement("h5",null,c.a.createElement("span",null,c.a.createElement("span",{className:""},c.a.createElement("span",null,"BTC"),c.a.createElement("span",{className:"show-soft"},"/"),c.a.createElement("span",null,"USD"))),c.a.createElement("button",{className:"ui-button ui-button--size-XS ui-button--clear",style:{padding:"2px"}},"up/down"))),c.a.createElement("td",{className:"col-info",rowSpan:"1"},c.a.createElement("h5",null,c.a.createElement("span",{className:" "},o(a))))),c.a.createElement("tr",null,c.a.createElement("td",{className:"col-info",rowSpan:"1",style:{width:"18px"}},c.a.createElement("span",{className:"show-soft"},"VOL"),"\xa0",c.a.createElement("span",{"data-tip":"true","data-for":"tooltip51",className:"ui-tooltip ui-tooltip--underline ui-tooltip--cursor-help",currentitem:"false"},c.a.createElement("span",{className:" "},o(i*a))),"\xa0",c.a.createElement("span",{className:"show-soft"},"USD")),c.a.createElement("td",{className:"col-info",rowSpan:"1"},c.a.createElement("span",{className:"bfx-green-text"},c.a.createElement("span",{className:" "},u(l)),"(",c.a.createElement("span",{className:" "},u(s)),"%)"))),c.a.createElement("tr",null,c.a.createElement("td",{className:"col-info",rowSpan:"1",style:{width:"18px"}},c.a.createElement("span",{className:"show-soft"},"LOW"),"\xa0",c.a.createElement("span",{className:" "},o(r))),c.a.createElement("td",{className:"col-info",rowSpan:"1"},c.a.createElement("span",{className:"show-soft"},"HIGH"),"\xa0",c.a.createElement("span",{className:" "},o(n))))))},Q=Object(s.b)(function(e){return Object(d.a)({},e.Root,e.Ticker)},function(e){return Object(i.bindActionCreators)(Object(d.a)({},I,U),e)})(function(e){return c.a.createElement(K,e)}),Y=function(e){function t(){return Object(F.a)(this,t),Object(G.a)(this,Object(J.a)(t).apply(this,arguments))}return Object(z.a)(t,e),Object(M.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.connect)()}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("table",{width:"100%"},c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("td",null,c.a.createElement(Q,null))),c.a.createElement("tr",null,c.a.createElement("td",null,c.a.createElement(V,null)),c.a.createElement("td",null,c.a.createElement($,null))))))}}]),t}(n.Component),Z=Object(s.b)(function(e){return Object(d.a)({},e.Root)},function(e){return Object(i.bindActionCreators)(Object(d.a)({},I),e)})(Y),ee=function(e){function t(){return Object(F.a)(this,t),Object(G.a)(this,Object(J.a)(t).apply(this,arguments))}return Object(z.a)(t,e),Object(M.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"App"},c.a.createElement(Z,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(s.a,{store:_},c.a.createElement(ee,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[24,2,1]]]);
//# sourceMappingURL=main.63666205.chunk.js.map